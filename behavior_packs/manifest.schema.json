{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://raw.githubusercontent.com/YOUR_USERNAME/MCBE-Addon-JSON-Schema/main/behavior_packs/manifest.schema.json",
  "title": "Minecraft Bedrock Edition - Behavior Pack Manifest (V2)",
  "description": "Schema for manifest.json files in Minecraft Bedrock Edition behavior packs (format version 2)",
  "type": "object",
  "required": ["format_version", "header", "modules"],
  "additionalProperties": false,
  "properties": {
    "$schema": {
      "type": "string",
      "description": "Reference to the JSON schema for validation and IntelliSense support."
    },
    "format_version": {
      "type": "integer",
      "const": 2,
      "description": "The syntax version used in the manifest file. Must be 2 for behavior packs using format version 2."
    },
    "header": {
      "type": "object",
      "description": "Section containing information regarding the name of the pack, description, and other features that are public facing.",
      "required": [
        "name",
        "description",
        "uuid",
        "version",
        "min_engine_version"
      ],
      "additionalProperties": false,
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the pack as it appears within Minecraft. This is a required field.",
          "minLength": 1
        },
        "description": {
          "type": "string",
          "description": "A short description of the pack. It will appear in the game below the name of the pack. We recommend keeping it to 1-2 lines.",
          "minLength": 1
        },
        "uuid": {
          "type": "string",
          "description": "A unique identifier for this pack in the format xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx. Must be different from module UUIDs.",
          "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
          "defaultSnippets": [
            {
              "label": "New UUID",
              "body": "$UUID"
            }
          ]
        },
        "version": {
          "type": "array",
          "description": "The version of your pack in the format [majorVersion, minorVersion, revision]. For marketplace content, the major version must be greater than 0.",
          "items": {
            "type": "integer",
            "minimum": 0
          },
          "minItems": 3,
          "maxItems": 3
        },
        "min_engine_version": {
          "type": "array",
          "description": "The minimum version of the game that this pack was written for. This helps the game identify whether any backwards compatibility is needed. You should always use the highest version currently available when creating packs.",
          "items": {
            "type": "integer",
            "minimum": 0
          },
          "minItems": 3,
          "maxItems": 3
        }
      }
    },
    "modules": {
      "type": "array",
      "description": "Section containing information regarding the type of content that is being brought in. At least one module is required.",
      "minItems": 1,
      "items": {
        "type": "object",
        "required": ["type", "uuid", "version"],
        "additionalProperties": false,
        "properties": {
          "type": {
            "type": "string",
            "description": "The type of the module. For behavior packs: 'data' (standard behavior pack), 'client_data' (client scripts), 'script' (server scripts), or 'world_template' (world template).",
            "enum": ["data", "client_data", "script", "world_template"]
          },
          "uuid": {
            "type": "string",
            "description": "A unique identifier for the module in the same format as the pack's UUID in the header. This should be different from the pack's UUID, and different for every module.",
            "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
            "defaultSnippets": [
              {
                "label": "New UUID",
                "body": "$UUID"
              }
            ]
          },
          "version": {
            "type": "array",
            "description": "The version of the module in the same format as the pack's version in the header. This can be used to further identify changes in your pack.",
            "items": {
              "type": "integer",
              "minimum": 0
            },
            "minItems": 3,
            "maxItems": 3
          },
          "description": {
            "type": "string",
            "description": "A short description of the module. This is not user-facing at the moment but is a good place to remind yourself why the module is defined."
          },
          "language": {
            "type": "string",
            "description": "Required if type is 'script'. Indicates the language in which scripts are written in the pack. The only supported value is 'javascript'.",
            "const": "javascript"
          },
          "entry": {
            "type": "string",
            "description": "Optional entry point for script modules. Specifies the main script file path (e.g., 'scripts/main.js')."
          }
        },
        "if": {
          "properties": {
            "type": {
              "const": "script"
            }
          },
          "required": ["type"]
        },
        "then": {
          "required": ["language"]
        }
      }
    },
    "dependencies": {
      "type": "array",
      "description": "Section containing definitions for any other packs or modules that are required in order for this manifest.json file to work.",
      "items": {
        "type": "object",
        "oneOf": [
          {
            "description": "Dependency on another pack by UUID",
            "required": ["uuid", "version"],
            "additionalProperties": false,
            "properties": {
              "uuid": {
                "type": "string",
                "description": "The unique identifier of the pack that this pack depends on. It needs to be the exact same UUID that the pack has defined in the header section of its manifest file.",
                "pattern": "^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
                "defaultSnippets": [
                  {
                    "label": "New UUID",
                    "body": "$UUID"
                  }
                ]
              },
              "version": {
                "type": "array",
                "description": "The specific version of the pack that your pack depends on. Should match the version the other pack has in its manifest file.",
                "items": {
                  "type": "integer",
                  "minimum": 0
                },
                "minItems": 3,
                "maxItems": 3
              }
            }
          },
          {
            "description": "Dependency on a built-in module by name (e.g., @minecraft/server)",
            "required": ["module_name", "version"],
            "additionalProperties": false,
            "properties": {
              "module_name": {
                "type": "string",
                "description": "For dependencies on built-in scripting modules, contains the name of the module (e.g., '@minecraft/server', '@minecraft/server-ui').",
                "pattern": "^@minecraft/[a-z-]+$"
              },
              "version": {
                "oneOf": [
                  {
                    "type": "array",
                    "description": "Version as an array [majorVersion, minorVersion, revision].",
                    "items": {
                      "type": "integer",
                      "minimum": 0
                    },
                    "minItems": 3,
                    "maxItems": 3
                  },
                  {
                    "type": "string",
                    "description": "Version as a semver string (e.g., '1.9.0', '2.5.0-beta').",
                    "pattern": "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$"
                  }
                ]
              }
            }
          }
        ]
      }
    },
    "capabilities": {
      "type": "array",
      "description": "Section containing optional features that can be enabled in Minecraft.",
      "items": {
        "type": "string",
        "enum": [
          "chemistry",
          "editorExtension",
          "experimental_custom_ui",
          "raytraced"
        ],
        "description": "Optional capabilities: 'chemistry' (add/modify chemistry behavior), 'editorExtension' (Minecraft Editor extensions), 'experimental_custom_ui' (HTML custom UI), 'raytraced' (Ray Tracing and custom shaders)"
      },
      "uniqueItems": true
    },
    "metadata": {
      "type": "object",
      "description": "Section containing the metadata about the file such as authors and licensing information.",
      "additionalProperties": false,
      "properties": {
        "authors": {
          "type": "array",
          "description": "Name of the author(s) of the pack.",
          "items": {
            "type": "string"
          }
        },
        "license": {
          "type": "string",
          "description": "The license of the pack."
        },
        "url": {
          "type": "string",
          "description": "The home website of your pack.",
          "format": "uri"
        },
        "generated_with": {
          "type": "object",
          "description": "Used to identify tools used to generate a manifest.json file. Tool names must be [a-zA-Z0-9_-] and 32 characters maximum.",
          "additionalProperties": {
            "type": "array",
            "minItems": 1,
            "items": {
              "type": "string",
              "description": "Semver version strings for each version that modified the manifest.json file.",
              "pattern": "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$"
            }
          },
          "propertyNames": {
            "pattern": "^[a-zA-Z0-9_-]{1,32}$"
          }
        },
        "product_type": {
          "type": "string",
          "description": "Optional string used to identify a targeted context for this pack. The only supported value is 'addon', indicating this pack is intended to be added to players' worlds.",
          "const": "addon"
        }
      }
    }
  }
}
